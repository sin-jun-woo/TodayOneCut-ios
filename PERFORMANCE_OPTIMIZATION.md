# 성능 최적화 가이드

## 📊 현재 최적화 상태

### ✅ 이미지 최적화
- **WebP 포맷 사용**: JPEG 대비 약 25-35% 파일 크기 감소
- **이미지 리사이징**: 최대 1920px로 제한
- **압축 품질**: 0.85 (85%) - 품질과 크기 균형
- **비동기 로딩**: AsyncImage 사용으로 메인 스레드 블로킹 방지

### ✅ 데이터베이스 최적화
- **Core Data 사용**: iOS 네이티브 최적화
- **인덱싱**: 날짜 기반 조회 최적화
- **배치 작업**: 여러 기록 삭제 시 배치 처리

### ✅ 메모리 최적화
- **ViewModel 취소 처리**: cancellables로 메모리 누수 방지
- **Task 취소**: 비동기 작업 취소 처리
- **이미지 메모리 해제**: 사용 후 메모리 해제

## 🔧 추가 최적화 권장 사항

### 1. 이미지 캐싱 개선
현재 AsyncImage는 기본 캐싱을 사용하지만, 더 명시적인 캐싱을 위해 URLCache 설정 가능:

```swift
// AppDelegate 또는 SceneDelegate에서
let cache = URLCache(
    memoryCapacity: 50 * 1024 * 1024, // 50MB
    diskCapacity: 200 * 1024 * 1024,  // 200MB
    diskPath: "image_cache"
)
URLCache.shared = cache
```

### 2. 데이터베이스 쿼리 최적화
- **인덱스 확인**: 날짜 필드에 인덱스가 있는지 확인
- **배치 페칭**: 많은 데이터 조회 시 배치 크기 조정
- **프리페칭**: 미리 필요한 데이터 로드

### 3. 메모리 프로파일링
- **Instruments 사용**: Leaks 템플릿으로 메모리 누수 확인
- **Allocations 템플릿**: 메모리 사용량 추적
- **Time Profiler**: 성능 병목 지점 확인

## 📈 성능 지표

### 목표 성능
- **앱 시작 시간**: 3초 이내
- **화면 전환**: 60fps 유지
- **이미지 로딩**: 1초 이내
- **데이터베이스 쿼리**: 100ms 이내

### 측정 방법
1. Instruments Time Profiler로 앱 시작 시간 측정
2. Instruments Allocations로 메모리 사용량 확인
3. 실제 기기에서 성능 테스트

---

**작성일**: 2025-01-XX  
**버전**: 1.0.0

